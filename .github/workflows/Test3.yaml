name: Run-tests-workflow

on:
  workflow_dispatch:
    inputs:
      folder-names:
        description: 'Select the folder(s) to execute tests'
        required: true
        type: choice
        default: ${{ fromJson(file('.github/actions/env.list')) }}

jobs:
  myJob:
    name: "My job"
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v2

      - name: Install jq
        run: sudo apt-get update && sudo apt-get install jq -y

      - name: Generate Dropdown Options
        id: generate-dropdown
        run: |
          node ./.github/actions/generate_dropdown.js

      - name: Set Dropdown Options
        id: set-options
        run: |
          echo "OPTIONS=$(cat options.json)" >> $GITHUB_ENV

      - name: Display Inputs
        run: |
          echo "Dropdown options: ${{ env.OPTIONS }}"
